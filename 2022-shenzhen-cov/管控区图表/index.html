<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>运行{管控区变化摘要}后获得</title>
    <script src="echarts.min.js"></script>
    <style>
        body {
            padding: 0;
            margin: 0;
            border: none;
            overflow: hidden;
        }
        #echart {
            width: 100vw;
            height: calc(100vh - 50px);
         }
        #option {
            height: 50px;
        }
    </style>
</head>
<body>
    <div id="option">
        <select id="province" onchange="provinceChange(this)"></select>
        <select id="city"></select>
        <button onclick="draw()">提交</button>
    </div>
    <div id="echart"></div>
</body>
<script>
window.options = {"上海市":{"中风险场所":[7,7,7,7,7,5,4,2,5,4,4,4,4,4,4],"高风险场所":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],"封控区":[0,0,0,0,0,0,0,0,0,0,0,48,183,182,182],"管控区":[0,0,0,0,0,0,0,0,0,0,0,3,22,23,23],"防范区":[0,0,0,0,0,0,0,0,0,0,0,0,7,6,6]},"云南省_临沧市":{"中风险场所":[2,1,0,0,0,0,0,0,0,0,0,0,0,0,0]},"云南省_德宏傣族景颇族自治州":{"中风险场所":[5,4,2,2,2,2,2,2,2,2,2,2,1,0,0]},"云南省_昆明市":{"中风险场所":[3,2,1,1,0,0,0,0,0,0,0,0,0,0,0]},"云南省_红河哈尼族彝族自治州":{"中风险场所":[1,0,0,0,1,1,1,1,1,1,0,0,0,0,0]},"内蒙古自治区_包头市":{"管控区":[8,7,7,7,7,7,7,7,7,7,7,7,7,7,7],"防范区":[10,9,9,9,9,9,9,9,9,9,9,9,9,9,9]},"内蒙古自治区_呼和浩特市":{"封控区":[45,44,44,44,44,44,44,44,44,44,44,43,43,43,2],"中风险场所":[3,1,0,0,0,0,0,0,0,0,0,0,0,0,0],"管控区":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]},"内蒙古自治区_通辽市":{"中风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"北京市":{"管控区":[57,70,76,75,74,74,72,70,70,62,60,60,60,60,59],"封控区":[47,56,58,58,58,58,54,53,53,47,44,43,43,43,31],"防范区":[9,9,14,14,14,14,14,14,14,13,10,11,11,11,11]},"吉林省_吉林市":{"中风险场所":[27,29,30,35,35,35,35,35,36,36,36,34,32,32,32],"高风险场所":[1,0,1,1,1,1,1,1,0,0,0,0,0,0,0]},"吉林省_延边朝鲜族自治州":{"中风险场所":[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"吉林省_长春市":{"中风险场所":[42,117,110,110,110,110,110,109,109,109,109,109,109,109,109],"高风险场所":[0,0,0,0,0,0,0,0,0,0,0,3,1,1,1]},"天津市":{"管控区":[88,102,101,103,108,113,117,108,111,98,97,95,82,82,80],"高风险场所":[3,2,6,6,7,7,7,6,6,5,5,5,5,4,4],"封控区":[75,99,100,104,104,116,119,114,119,113,112,111,88,88,84],"防范区":[4,7,7,7,7,7,8,19,19,19,19,19,21,21,21],"中风险场所":[3,2,2,3,3,2,3,3,3,2,2,2,2,1,2]},"安徽省_铜陵市":{"中风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"封控区":[0,16,15,23,23,26,26,26,26,26,21,21,18,18,18],"管控区":[0,19,18,19,19,21,21,21,21,21,20,20,17,17,14]},"安徽省_马鞍山市":{"中风险场所":[2,2,2,2,2,2,1,1,2,2,1,0,0,0,0]},"山东省_威海市":{"中风险场所":[9,8,8,8,8,8,8,8,8,8,8,8,1,1,0],"高风险场所":[2,1,1,1,1,1,1,1,1,1,1,1,0,0,0]},"山东省_德州市":{"高风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"山东省_淄博市":{"中风险场所":[18,17,17,17,9,6,6,0,3,2,2,2,2,2,2],"高风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"山东省_滨州市":{"中风险场所":[1,0,4,3,3,3,3,3,4,4,4,4,4,4,4],"高风险场所":[0,0,3,3,3,3,3,3,2,2,2,2,2,2,2]},"山东省_潍坊市":{"中风险场所":[2,1,1,1,0,0,1,1,1,1,1,0,0,0,0]},"山东省_烟台市":{"中风险场所":[3,2,2,2,2,2,2,2,2,0,0,0,0,0,0]},"山东省_青岛市":{"中风险场所":[3,2,2,2,2,2,2,2,2,2,2,2,0,0,0],"高风险场所":[2,1,1,1,1,1,1,1,1,1,1,1,0,0,0]},"广东省_东莞市":{"防范区":[8,12,30,30,30,30,29,12,13,12,12,15,13,12,12],"管控区":[10,13,21,20,18,18,17,12,11,10,12,14,13,13,11],"封控区":[20,21,26,23,20,20,20,12,10,10,12,17,16,16,14],"中风险场所":[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]},"广东省_广州市":{"封控区":[19,17,14,13,13,12,12,10,8,8,8,9,9,9,16],"管控区":[16,14,13,6,6,6,6,1,0,0,0,0,1,2,3],"防范区":[9,8,7,6,6,6,6,10,9,9,9,9,9,9,11]},"广东省_惠州市":{"管控区":[1,0,0,0,0,0,0,0,0,0,0,0,1,1,1],"封控区":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"广东省_深圳市":{"封控区":[281,277,281,262,231,174,95,85,80,80,54,51,47,32,32],"管控区":[391,370,379,345,283,228,162,138,120,99,73,64,63,57,55],"防范区":[189,243,248,267,338,386,182,184,183,133,120,113,113,106,102],"中风险场所":[2,1,0,0,0,0,0,0,0,0,0,0,0,0,0],"提级管理区":[5,2,1,0,0,0,0,0,0,0,0,0,0,0,0]},"广东省_韶关市":{"防范区":[3,2,2,2,2,2,2,0,0,0,0,0,0,0,0],"管控区":[2,1,1,1,1,1,1,0,0,0,0,0,0,0,0],"封控区":[2,1,1,1,1,1,1,0,0,0,0,0,0,0,0]},"江苏省_南京市":{"中风险场所":[9,8,9,9,9,9,9,9,9,9,6,5,3,3,3],"高风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"江苏省_常州市":{"中风险场所":[6,5,10,10,10,10,8,5,7,7,2,2,1,1,1],"高风险场所":[1,0,8,8,8,8,7,7,8,8,8,8,6,0,0]},"江苏省_苏州市":{"管控区":[44,43,42,46,46,46,46,48,50,53,53,68,74,74,75],"封控区":[44,44,52,56,56,56,56,56,59,63,63,63,62,62,63],"防范区":[3,2,2,3,3,3,3,4,4,6,6,6,7,7,7]},"江苏省_连云港市":{"中风险场所":[79,78,76,65,65,31,17,13,49,47,47,46,46,0,0]},"江西省_南昌市":{"中风险场所":[2,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},"河北省_廊坊市":{"管控区":[7,6,6,6,6,6,6,6,6,6,6,6,6,6,6],"封控区":[8,7,7,7,7,7,7,7,7,7,7,7,7,7,7],"防范区":[4,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"高风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,1,1],"中风险场所":[2,1,1,1,1,1,1,1,1,1,1,1,1,2,2]},"河北省_沧州市":{"中风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"河北省_邢台市":{"中风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"河南省_濮阳市":{"中风险场所":[4,3,3,3,0,0,0,0,0,0,0,0,0,0,0]},"河南省_焦作市":{"中风险场所":[1,0,8,9,9,9,9,9,9,9,9,3,0,0,0]},"湖南省_怀化市":{"中风险场所":[1,1,1,1,1,5,5,4,6,6,6,6,6,6,6]},"湖南省_邵阳市":{"中风险场所":[1,0,0,0,0,0,0,0,1,1,1,1,0,0,0]},"湖南省_长沙市":{"中风险场所":[2,2,4,4,4,9,10,11,12,12,14,13,11,12,12]},"甘肃省_兰州市":{"中风险场所":[2,1,0,0,0,0,0,0,0,0,0,0,0,0,0],"高风险场所":[1,0,1,1,0,0,0,0,0,0,0,0,0,0,0]},"甘肃省_白银市":{"高风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"福建省_泉州市":{"中风险场所":[10,14,17,18,18,20,21,19,21,28,29,29,28,28,28],"高风险场所":[5,4,4,5,5,5,6,6,4,9,12,12,12,12,12],"封控区":[40,91,205,222,243,256,380,404,403,387,377,348,330,292,287],"防范区":[6,5,5,4,4,4,4,1,0,6,6,6,10,8,9],"管控区":[22,25,44,43,44,43,43,51,53,78,80,90,88,96,93]},"福建省_漳州市":{"封控区":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"管控区":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"中风险场所":[0,2,1,1,1,1,1,1,2,2,2,2,1,0,0],"高风险场所":[0,0,0,2,1,1,1,1,0,0,0,0,0,0,0]},"福建省_莆田市":{"中风险场所":[5,11,17,17,17,17,15,14,16,16,17,16,4,2,2],"高风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"管控区":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"封控区":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"辽宁省_大连市":{"中风险场所":[18,19,20,22,22,22,22,19,20,18,9,6,6,5,5]},"辽宁省_沈阳市":{"中风险场所":[3,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"高风险场所":[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0]},"辽宁省_营口市":{"中风险场所":[5,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"高风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"重庆市":{"中风险场所":[3,2,2,2,2,2,2,2,2,0,0,0,0,0,0]},"陕西省_宝鸡市":{"中风险场所":[13,12,12,6,6,6,1,1,6,6,4,4,4,4,4],"高风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"陕西省_汉中市":{"中风险场所":[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"陕西省_西安市":{"中风险场所":[10,3,3,2,0,0,0,0,0,0,0,0,0,0,0]},"陕西省_铜川市":{"中风险场所":[3,2,2,2,2,2,1,1,3,3,0,0,0,0,0],"高风险场所":[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0]},"黑龙江省_哈尔滨市":{"中风险场所":[13,12,12,12,11,11,9,7,12,13,13,13,13,13,13],"封控区":[4,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"高风险场所":[2,1,1,1,1,1,1,1,1,1,1,1,1,0,0]},"广西壮族自治区_钦州市":{},"河北省_唐山市":{"中风险场所":[0,0,2,1,1,1,1,1,1,1,1,1,1,1,1]},"福建省_厦门市":{"中风险场所":[0,0,3,2,2,2,2,1,2,2,2,2,0,0,0]},"福建省_福州市":{"管控区":[0,0,5,4,4,4,4,4,4,4,4,4,4,1,0],"封控区":[0,0,3,2,2,2,2,2,2,3,3,3,3,1,0],"防范区":[0,0,3,2,2,2,2,2,2,2,2,2,2,2,3]},"四川省_成都市":{"管控区":[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0]},"河南省_漯河市":{"中风险场所":[0,0,0,0,2,2,2,2,2,2,2,2,2,2,2]},"广东省_肇庆市":{"中风险场所":[0,0,0,0,0,0,2,1,1,1,1,1,1,1,1]},"安徽省_淮南市":{"中风险场所":[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0]},"海南省_海口市":{"管控区":[0,0,0,0,0,0,0,0,0,28,27,27,28,28,28],"封控区":[0,0,0,0,0,0,0,0,0,2,1,1,1,1,2]},"黑龙江省_佳木斯市":{"中风险场所":[0,0,0,0,0,0,0,0,0,2,3,3,9,11,11],"高风险场所":[0,0,0,0,0,0,0,0,0,0,1,0,1,1,1]},"内蒙古自治区_赤峰市":{"中风险场所":[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0]},"四川省_乐山市":{"中风险场所":[0,0,0,0,0,0,0,0,0,0,2,1,2,2,2]},"四川省_遂宁市":{"封控区":[0,0,0,0,0,0,0,0,0,0,1,0,1,1,1],"管控区":[0,0,0,0,0,0,0,0,0,0,1,0,1,1,1]},"安徽省_阜阳市":{"管控区":[0,0,0,0,0,0,0,0,0,0,2,1,1,1,1],"封控区":[0,0,0,0,0,0,0,0,0,0,4,3,3,6,6]},"江苏省_徐州市":{"中风险场所":[0,0,0,0,0,0,0,0,0,0,3,2,2,9,9]},"湖南省_衡阳市":{"中风险场所":[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0]},"江西省_抚州市":{"中风险场所":[0,0,0,0,0,0,0,0,0,0,0,0,2,1,1]},"山西省_太原市":{"封控区":[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0]},"河南省_信阳市":{"封控区":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,2]}};
window.dates = ["20220321","20220322","20220324","20220325","20220326","20220327","20220328","20220329","20220330","20220331","20220401","20220402","20220403","20220404","20220405"];
window.tags = ["中风险场所","管控区","防范区","封控区","高风险场所","提级管理区"];
window.showArea = '上海市';
window.getOption = (datas,showArea) => {
    let ts = [];
    for (let i in datas) {
        ts.push(i);
    }
    return {
    title: {
        text: showArea + '_疫情数据'
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        }
    },
    legend: {
        data: ts
    },
    toolbox: {
        feature: {
            saveAsImage: {}
        }
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis: [
        {
            type: 'category',
            boundaryGap: false,
            data: dates
        }
    ],
    yAxis: [
        {
            type: 'value'
        }
    ],
    series: (() => {
        let ss = [];
        for (let i in datas) {
            ss.push({
                name: i,
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: datas[i]
            });
        }
        return ss;
    })(),
}};
window.provinces = {"上海市":["全市"],"云南省":["全市","临沧市","德宏傣族景颇族自治州","昆明市","红河哈尼族彝族自治州"],"内蒙古自治区":["全市","包头市","呼和浩特市","通辽市","赤峰市"],"北京市":["全市"],"吉林省":["全市","吉林市","延边朝鲜族自治州","长春市"],"天津市":["全市"],"安徽省":["全市","铜陵市","马鞍山市","淮南市","阜阳市"],"山东省":["全市","威海市","德州市","淄博市","滨州市","潍坊市","烟台市","青岛市"],"广东省":["全市","东莞市","广州市","惠州市","深圳市","韶关市","肇庆市"],"江苏省":["全市","南京市","常州市","苏州市","连云港市","徐州市"],"江西省":["全市","南昌市","抚州市"],"河北省":["全市","廊坊市","沧州市","邢台市","唐山市"],"河南省":["全市","濮阳市","焦作市","漯河市","信阳市"],"湖南省":["全市","怀化市","邵阳市","长沙市","衡阳市"],"甘肃省":["全市","兰州市","白银市"],"福建省":["全市","泉州市","漳州市","莆田市","厦门市","福州市"],"辽宁省":["全市","大连市","沈阳市","营口市"],"重庆市":["全市"],"陕西省":["全市","宝鸡市","汉中市","西安市","铜川市"],"黑龙江省":["全市","哈尔滨市","佳木斯市"],"广西壮族自治区":["全市","钦州市"],"四川省":["全市","成都市","乐山市","遂宁市"],"海南省":["全市","海口市"],"山西省":["全市","太原市"]};
</script>
<script>
    window.provinceChange = function (e) {
        console.log(e.value);
        if (e.value in window.provinces) {
            document.getElementById('city').innerHTML = window.provinces[e.value].map(_ => `<option value="${_}">${_}</option>`);
        } else {
            document.getElementById('city').innerHTML = '<option>-</option>';
        }
}
    window.ec = null;
    window.onload = function () {
        let provinceOptions = ['全国'];
        for (let i in provinces) {
            provinceOptions.push(i);
        }
        document.getElementById('province').innerHTML = provinceOptions.map(_ => `<option value="${_}">${_}</option>`);
        window.ec = echarts.init(document.getElementById('echart'));
        // ec.setOption(window.getOption(window.showArea));
        window.draw();
    }
    window.draw = function () {
        let province = document.getElementById('province').value;
        let city = document.getElementById('city').value;
        let nameChecker = _ => _;
        let provinceName = ``;
        if (province === '全国') {
            provinceName = "全国";
        } else if (province in provinces && city === '全市') {
            provinceName = province;
            nameChecker = name => name.startsWith(province);
        } else {
            provinceName = province + '_' + city;
            nameChecker = name => name === `${province}_${city}`;
        }
        let d = {}
        for (let i in options) {
            if (!nameChecker(i)) {
                continue;
            }
            for (let j in options[i]) {
                if (!(j in d)) {
                    d[j] = options[i][j];
                } else {
                    d[j] = d[j].map((_d,_ind) => _d + options[i][j][_ind]);
                }
            }
        }
        window.ec.setOption(getOption(d,provinceName),true);
    };
</script>
</html>;